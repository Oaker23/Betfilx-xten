!function(e){jQuery(window).on("elementor:init",function(){var t=elementor.modules.controls.BaseData.extend({isUaelPreset:function(){return"presets_options"===this.model.get("name")&&-1!==this.getWidgetName().indexOf("uael-")},onReady:function(){window.uaelPresets=window.uaelPresets||{},this.fetchPresets()},getWidgetName:function(){return this.container.settings.get("widgetType")},isPresetFetched:function(){return void 0!==window.uaelPresets[this.getWidgetName()]&&window.uaelPresets[this.getWidgetName()]},fetchPresets:function(){if(this.isUaelPreset()&&!this.isPresetFetched()&&this.getWidgetName()){var t=this;e.ajax({url:uael_presets.ajaxUrl,type:"POST",data:{action:"uael_widget_presets",widget:this.getWidgetName(),nonce:uael_presets.nonce}}).done(function(e){e.success&&t.setPresets(e.data)})}},setPresets:function(e){window.uaelPresets[this.getWidgetName()]=JSON.parse(e)},getPresets:function(){return void 0!==window.uaelPresets[this.getWidgetName()]?window.uaelPresets[this.getWidgetName()]:{}},onBaseInputChange:function(e){if(this.constructor.__super__.onBaseInputChange.apply(this,arguments),this.isUaelPreset()){e.stopPropagation();var t=this.getPresets();""==e.currentTarget.value?void 0!==t.default?this.applyPresets(t.default):this.defaultStyle(this.container.settings.defaults):void 0!==t[e.currentTarget.value]&&this.applyPresets(t[e.currentTarget.value])}},defaultStyle:function(e){this.applyPresets(e)},applyPresets:function(e){var t=elementor.getPanelView().getCurrentPageView().getOption("editedElementView");$e.run("document/elements/reset-style",{container:t.getContainer()});var s=this.container.settings.controls,n=this,i={},r=this.container.settings,a=r.getClassControls(),o=this.container.view.$el,l=t.model._previousAttributes.settings._previousAttributes;_.each(s,function(t,s){if(n.model.get("name")!==s&&!_.isUndefined(e[s]))if(t.is_repeater&&t.default.length>1){var r=n.container.settings.get(s).clone();r.each(function(t,i){_.isUndefined(e[s][i])||_.each(t.controls,function(t,a){n.isStyleTransferControl(t)&&r.at(i).set(a,e[s][i][a])})}),i[s]=r,n.isStyleTransferControl(t)&&(i[s]=e[s])}else if(""!==e[s]&&n.isContentTransferControl(t)){var a=l[s];void 0!==typeof a&&""!==a&&a!==e[s]?i[s]=a:i[s]=e[s]}else i[s]=e[s]}),_.each(a,function(e){var t=r._previousAttributes[e.name];e.classes_dictionary&&void 0!==e.classes_dictionary[t]&&(t=e.classes_dictionary[t]),o.removeClass(e.prefix_class+t)}),this.container.settings.setExternalChange(i),this.container.view.render()},isStyleTransferControl:function(e){return void 0!==e.style_transfer?e.style_transfer:"content"!==e.tab||e.selectors||e.prefix_class||e.return_value},isContentTransferControl:function(e){var t=e.type;return("text"===t||"textarea"===t||"icons"===t||"wysiwyg"===t||"media"===t||"url"===t)&&!0!==e.style_transfer}});elementor.addControlView("uael-presets-select",t)})}(jQuery);