!function(e){var a=function(e,a){if(void 0!==e){var t=e.find(".uael-woo-categories-slider");if(t.length>0){var n=t.find("ul.products"),i=JSON.parse(t.attr("data-cat_slider"));o(n,i)}}},t=function(e,a){if(void 0!==e){var t=e.find(".uael-woo-products-slider");if(t.length>0){var n=t.find("ul.products"),i=JSON.parse(t.attr("data-woo_slider"));o(n,i)}elementorFrontend.isEditMode()||(function(e,a){var t=e.data("id"),o=e.find(".uael-quick-view-"+t);o.appendTo(document.body);var n=o.find(".uael-quick-view-bg"),i=o.find("#uael-quick-view-modal"),c=i.find("#uael-quick-view-content"),d=i.find("#uael-quick-view-close"),l=i.find(".uael-content-main-wrapper");e.off("click",".uael-quick-view-btn").on("click",".uael-quick-view-btn",function(e){e.preventDefault();var t=a(this),o=t.data("product_id");i.hasClass("loading")||i.addClass("loading"),n.hasClass("uael-quick-view-bg-ready")||n.addClass("uael-quick-view-bg-ready"),a(document).trigger("uael_quick_view_loading"),r(t,o)}),e.off("click",".uael-quick-view-data").on("click",".uael-quick-view-data",function(e){e.preventDefault();var t=a(this),o=t.data("product_id");i.hasClass("loading")||i.addClass("loading"),n.hasClass("uael-quick-view-bg-ready")||n.addClass("uael-quick-view-bg-ready"),a(document).trigger("uael_quick_view_loading"),r(t,o)});var r=function(e,t){i.css("opacity",0),a.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_woo_quick_view",product_id:t,nonce:uael_wc_script.quick_view_nonce},dataType:"html",type:"POST",success:function(e){c.html(e),s()}})},s=function(){var e=c.find(".variations_form");if(e.trigger("check_variations"),e.trigger("reset_image"),!i.hasClass("open")){i.removeClass("loading").addClass("open");var t=_(),o=a("html");o.css("margin-right",t),o.addClass("uael-quick-view-is-open")}var n=i.find(".variations_form");n.length>0&&"function"==typeof n.wc_variation_form&&(n.wc_variation_form(),n.find("select").change()),c.imagesLoaded(function(e){var a=i.find(".uael-qv-image-slider");a.find("li").length>1?a.flexslider({animation:"slide",start:function(e){setTimeout(function(){u(!0)},300)}}):setTimeout(function(){u(!0)},300)}),a(document).trigger("uael_quick_view_loader_stop")},u=function(e){var a=c,t=a.find(".product .uael-qv-image-slider").first().height(),o=a.find(".product .summary.entry-summary"),n=o.css("content");void 0!==n&&544==n.replace(/[^0-9]/g,"")&&0!=t&&null!==t?o.css("height",t):o.css("height",""),!0===e&&i.css("opacity",1)},_=function(){var e=a('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');a("body").append(e);var t=a("div",e).innerWidth();e.css("overflow-y","scroll");var o=a("div",e).innerWidth();return a(e).remove(),t-o};!function(){l.on("click",function(a){this===a.target&&e()}),a(document).on("keyup",function(a){27===a.keyCode&&e()}),d.on("click",function(a){a.preventDefault(),e()});var e=function(){n.removeClass("uael-quick-view-bg-ready"),i.removeClass("open").removeClass("loading"),a("html").removeClass("uael-quick-view-is-open"),a("html").css("margin-right",""),setTimeout(function(){c.html("")},600)}}(),window.addEventListener("resize",function(e){u()});var p=function(){o.off("click","#uael-quick-view-content .single_add_to_cart_button").off("uael_added_to_cart").on("click","#uael-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("uael_added_to_cart",this.updateButton)};p.prototype.onAddToCart=function(t){t.preventDefault();var n=a(this).closest("form");if(!n[0].checkValidity())return n[0].reportValidity(),!1;var i=a(this),c=a(this).val(),d=(a('input[name="variation_id"]').val(),a('input[name="quantity"]').val());if(e.find(".woocommerce-grouped-product-list-item").length){var l=a("input.qty");d=[],a.each(l,function(e,t){var o=a(this).attr("name");o=(o=o.replace("quantity[","")).replace("]",""),o=parseInt(o),a(this).val()&&(d[o]=a(this).val())})}var r=n.serialize();i.is(".single_add_to_cart_button")&&(i.removeClass("added"),i.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+c+"&nonce="+uael_wc_script.add_cart_nonce+"&"+r,success:function(e){a(document.body).trigger("wc_fragment_refresh"),o.trigger("uael_added_to_cart",[i])}}))},p.prototype.updateButton=function(e,t){a(t=void 0!==t&&t)&&(a(t).removeClass("loading"),a(t).addClass("added"),!uael_wc_script.is_cart&&0===a(t).parent().find(".added_to_cart").length&&uael_wc_script.is_single_product&&a(t).after(' <a href="'+uael_wc_script.cart_url+'" class="added_to_cart wc-forward" title="'+uael_wc_script.view_cart+'">'+uael_wc_script.view_cart+"</a>"))},new p}(e,a),function(e,a){if($layout=e.data("widget_type"),"uael-woo-products.grid-franko"===$layout||"uael-woo-products-slider.slider-franko"===$layout){var t=function(){a(document.body).off("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple").off("uael_product_actions_added_to_cart").on("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple",this.onAddToCart).on("uael_product_actions_added_to_cart",this.updateButton)};t.prototype.onAddToCart=function(e){e.preventDefault();var t=a(this),o=t.data("product_id");t.removeClass("added"),t.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:{action:"uael_add_cart_single_product",product_id:o,quantity:1,nonce:uael_wc_script.add_cart_nonce},success:function(e){a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("uael_product_actions_added_to_cart",[t])}})},t.prototype.updateButton=function(e,t){a(t=void 0!==t&&t)&&(a(t).removeClass("loading"),a(t).addClass("added"))},new t}}(e,a))}},o=function(a,t){(t.responsive&&"undefined"!==t.responsive[0].breakpoint?t.responsive[0].breakpoint:"")==e(window).width()&&(t.mobileFirst=!0),a.slick(t),window.addEventListener("resize",function(e){a.slick("resize")})},n=function(e,a){var t=e.find(".uael-add-to-cart").data("enable-feature");a("body").off("added_to_cart.uael_cart").on("added_to_cart.uael_cart",function(e,a,t,o){o.closest(".elementor-widget-uael-woo-add-to-cart").length>0&&o.hasClass("uael-redirect")&&setTimeout(function(){!uael_wc_script.is_cart&&o.hasClass("added")&&(window.location=uael_wc_script.cart_url)},200)}),elementorFrontend.isEditMode()||"yes"!==t||function(e,a){if($layout=e.data("widget_type"),"uael-woo-add-to-cart.default"===$layout){var t=e.find(".uael-add-to-cart"),o=function(){a(document.body).off("click",".uael-add-to-cart .single_add_to_cart_button").off("uael_woo_added_to_cart").on("click",".uael-add-to-cart .single_add_to_cart_button",this.onAddToCart).on("uael_woo_added_to_cart",this.updateButton)};o.prototype.onAddToCart=function(o){o.preventDefault();var n=a(this).closest("form");if(!n[0].checkValidity())return n[0].reportValidity(),!1;var i=a(this),c=a(this).val(),d=a('input[name="quantity"]').val();if(e.find(".woocommerce-grouped-product-list-item").length){var l=a("input.qty");d=[],a.each(l,function(e,t){var o=a(this).attr("name");o=(o=o.replace("quantity[","")).replace("]",""),o=parseInt(o),a(this).val()&&(d[o]=a(this).val())})}var r=n.serialize();i.is(".single_add_to_cart_button")&&(i.removeClass("added"),i.addClass("loading"),jQuery.ajax({url:uael_wc_script.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+c+"&nonce="+uael_wc_script.add_cart_nonce+"&"+r,success:function(e){a(document.body).trigger("wc_fragment_refresh"),t.trigger("uael_woo_added_to_cart",[i])}}))},o.prototype.updateButton=function(e,t){a(t=void 0!==t&&t)&&(a(t).removeClass("loading"),a(t).addClass("added"))},new o}}(e,a)};e(document).off("click",".uael-woocommerce-pagination a.page-numbers").on("click",".uael-woocommerce-pagination a.page-numbers",function(a){if($scope=e(this).closest(".elementor-widget-uael-woo-products"),!$scope.find(".uael-woocommerce").hasClass("uael-woo-query-main")){a.preventDefault(),$scope.find("ul.products").after('<div class="uael-woo-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var t=$scope.data("id"),o=$scope.find(".uael-woocommerce").data("page"),n=1,i=parseInt($scope.find(".uael-woocommerce-pagination .page-numbers.current").html()),c=$scope.find(".uael-woocommerce").data("skin");n=e(this).hasClass("next")?i+1:e(this).hasClass("prev")?i-1:e(this).html(),e.ajax({url:uael_wc_script.ajax_url,data:{action:"uael_get_products",page_id:o,widget_id:$scope.data("id"),category:"",skin:c,page_number:n,nonce:uael_wc_script.get_product_nonce},dataType:"json",type:"POST",success:function(a){$scope.find(".uael-woo-loader").remove(),e("html, body").animate({scrollTop:$scope.find(".uael-woocommerce").offset().top-30},"slow"),$scope.find(".uael-woo-products-inner ul.products").replaceWith(a.data.html),$scope.find(".uael-woocommerce-pagination").replaceWith(a.data.pagination),e(window).trigger("uael_woocommerce_after_pagination",[o,t])}})}});var i=function(e,a){var t=e.find(".uael-mc__btn"),o=e.find(".uael-mc__btn").data("behaviour"),n=e.find(".uael-mc-modal-wrap"),i=e.find(".uael-mc-offcanvas-wrap"),c=e.find(".uael-mc-dropdown"),d=e.find(".uael-mc-modal"),l=e.find(".uael-mc-offcanvas"),r=e.hasClass("elementor-element-edit-mode")&&e.hasClass("uael-mini-cart--preview-yes"),s=e.find(".uael-mc").data("cart_dropdown");r&&(c.removeClass("uael-mc-dropdown-close"),n.removeClass("uael-mc-modal-wrap-close"),d.removeClass("uael-mc-modal-close"),i.removeClass("uael-mc-offcanvas-wrap-close"),l.removeClass("uael-mc-offcanvas-close")),t.on("click",function(e){e.preventDefault(),"click"===o&&"dropdown"==s&&(c.toggleClass("uael-mc-dropdown-close"),e.stopPropagation()),"modal"==s&&(n.removeClass("uael-mc-modal-wrap-close"),d.removeClass("uael-mc-modal-close"),a(document).on("click",".uael-mc-modal-wrap, .uael-mc-modal__close-btn",function(){var e=a(this).closest(".uael-mc");e.find(".uael-mc-modal-wrap").addClass("uael-mc-modal-wrap-close"),e.find(".uael-mc-modal").addClass("uael-mc-modal-close")})),"offcanvas"==s&&(i.removeClass("uael-mc-offcanvas-wrap-close"),l.removeClass("uael-mc-offcanvas-close"),a(document).on("click",".uael-mc-offcanvas-wrap, .uael-mc-offcanvas__close-btn",function(){var e=a(this).closest(".uael-mc");e.find(".uael-mc-offcanvas-wrap").addClass("uael-mc-offcanvas-wrap-close"),e.find(".uael-mc-offcanvas").addClass("uael-mc-offcanvas-close")}))}),"hover"===o&&(r||(t.hover(function(e){e.preventDefault(),"dropdown"==s&&c.removeClass("uael-mc-dropdown-close")},function(e){e.preventDefault(),"dropdown"==s&&c.addClass("uael-mc-dropdown-close")}),c.hover(function(e){e.preventDefault(),c.removeClass("uael-mc-dropdown-close")},function(e){e.preventDefault(),c.addClass("uael-mc-dropdown-close")}))),a(document).on("keyup",function(e){27==e.keyCode&&a(".elementor-widget-uael-mini-cart").each(function(){var e=a(this);e.find(".uael-mc-modal-wrap").addClass("uael-mc-modal-wrap-close"),e.find(".uael-mc-modal").addClass("uael-mc-modal-close"),e.find(".uael-mc-offcanvas-wrap").addClass("uael-mc-offcanvas-wrap-close"),e.find(".uael-mc-offcanvas").addClass("uael-mc-offcanvas-close")})}),c.on("click",function(e){"A"!=e.target.nodeName||"remove remove_from_cart_button"!=a(e.target).attr("class")?e.stopPropagation():a(this).removeClass("uael-mc-dropdown-close")}),a(document).on("click",function(e){"A"!=e.target.nodeName&&"remove remove_from_cart_button"!=a(e.target).attr("class")&&(c.addClass("uael-mc-dropdown-close"),e.stopPropagation())})},c=function(e,a){var t=e.find("#uael_multistep_container"),o=e.find("#uael-tabs"),n=e.find("#uael-tab-panels"),i=0,c=0,d=e.find("#action-prev"),l=e.find("#action-next"),r=1,s=uael_woo_chekout.validation_msg,u=e.find(".uael-woo-checkout"),_={};function p(){_.widget_id=e.data("id"),_.page_id=u.data("page-id"),setTimeout(function(){a(".uael-checkout-review-order-table").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),jQuery.ajax({type:"POST",url:uael_wc_script.ajax_url,data:{action:"uae_woo_checkout_update_order_review",content:_},success:function(e){a(".uael-checkout-review-order-table").replaceWith(e.order_review),setTimeout(function(){a(".uael-checkout-review-order-table").removeClass("uael-order-review-processing blockUI blockOverlay")},1e5)}})},2e3)}a(document).on("click",".uael-woo-checkout-order-review .woocommerce-remove-coupon",function(e){p()}),a(".uael-woo-checkout-coupon form.checkout_coupon").submit(function(e){p()}),UaelCheckout={_initialize_uael_checkout:function(){if(t.length){var e=o.find("li.uael-tab a.first");i=e.data("step"),c=o.find("li.uael-tab a.last").data("step"),UaelCheckout._jump_to_step(i,e),o.find("li.uael-tab a").on("click",function(){var e=a(this),t=e.data("step");t<r&&UaelCheckout._jump_to_step(t,e)}),d.on("click",function(){var e=r-1;e>=i&&(UaelCheckout._jump_to_step(e,!1),UaelCheckout._scroll_to_top())}),l.on("click",function(){var e=r+1;e<=c&&UaelCheckout._validate_checkout_step(r,e)})}},_validate_checkout_step:function(e,a){UaelCheckout._validate_step_fields(e)?(o.find("#step-"+e).addClass("uael-finished-step"),UaelCheckout._jump_to_step(a,!1),UaelCheckout._scroll_to_top()):(UaelCheckout._display_error_message(),UaelCheckout._scroll_to_error())},_scroll_to_error:function(){var a=e.find("#uael_multistep_container .woocommerce-error");e.find("html, body").animate({scrollTop:a.offset().top-100},1e3)},_display_error_message:function(){var e='<ul class="woocommerce-error" role="alert"><li>'+s+"</li></ul>";n.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+e+"</div>")},_validate_step_fields:function(t){UaelCheckout._clear_validation_error();var o=e.find("#uael-tab-panel-"+t);if(o){var n=o.find(":input").not(".woocommerce-validated,:hidden"),i=e.find('input[name="ship_to_different_address"]'),c=e.find("#createaccount"),d=!0;a.each(n,function(t){var o=a(this),n=o.getType(),l=o.attr("name");if("checkbox"==n||"select"==n)var r=l.replace("[]",""),s=e.find("#"+r+"_field");else s=e.find("#"+l+"_field");if(s.parents(".shipping_address").length>0&&1!=i.prop("checked"))return d;var u="";s.parents().length>0||(u=s.data("validations"));var _=!0;if(c.length>0&&(0!=c.prop("checked")||"account_username"!=l&&"account_password"!=l||(_=!1)),(s.hasClass("validate-required")||"validate-required"==u)&&_){var p=UaelCheckout._get_field_value(n,a(this),l);if(UaelCheckout._isEmpty(p))d=!1;else if(s.hasClass("validate-email")){UaelCheckout._validate_email(p)||(d=!1)}}})}return d},_isEmpty:function(e){return!e||0===e.length},_validate_email:function(e){return 0!=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,})$/.test(e)},_get_field_value:function(t,o,n){var i="";switch(t){case"radio":i=(i=e.find("input[type=radio][name='"+n+"']:checked").val())||"";break;case"checkbox":if(1==o.data("multiple")){var c=[];e.find("input[type=checkbox][name='"+n+"']:checked").each(function(){c.push(a(this).val())}),i=c,a.isEmptyObject(i)&&(i="")}else i=(i=e.find("input[type=checkbox][name='"+n+"']:checked").val())||"";break;case"select":case"multiselect":default:i=o.val()}return i},_clear_validation_error:function(){e.find(".uael_multistep_container .woocommerce-NoticeGroup-checkout, .uael_multistep_container .woocommerce-error, .uael_multistep_container .woocommerce-message, .woocommerce .woocommerce-error").remove()},_jump_to_step:function(e,a){a||(a=o.find("#step-"+e)),o.find("li a").removeClass("active"),o.find("li.uael-tab").removeClass("uael-tab-after");var t=n.find("#uael-tab-panel-"+e);a.hasClass("active")||(a.addClass("active"),a.closest(".uael-tab").addClass("uael-tab-after")),n.find("div.uael-tab-panel").not("#uael-tab-panel-"+e).hide(),t.show(),r=e,d.prop("disabled",!1),l.prop("disabled",!1),d.removeClass("uael-first-prev"),l.removeClass("uael-last-next"),r==i&&(d.prop("disabled",!0),d.addClass("uael-first-prev")),r==c&&(l.prop("disabled",!0),l.addClass("uael-last-next"))},_scroll_to_top:function(){e.find("html, body").animate({scrollTop:t.offset().top-100},800)},_order_review_ajax:function(){u.on("change",'select.shipping_method, input[name^="shipping_method"], #ship-to-different-address input, .update_totals_on_change select, .update_totals_on_change input[type="radio"], .update_totals_on_change input[type="checkbox"], input[name^="billing_postcode"], input[name^="shipping_postcode"]',function(){a(document.body).trigger("update_checkout"),p()})}},a.fn.getType=function(){try{return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()}catch(e){return"E001"}},UaelCheckout._initialize_uael_checkout(),UaelCheckout._order_review_ajax()};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-default",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-franko",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-add-to-cart.default",n),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-categories.default",a),elementorFrontend.hooks.addAction("frontend/element_ready/uael-mini-cart.default",i),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-checkout.default",c)})}(jQuery);